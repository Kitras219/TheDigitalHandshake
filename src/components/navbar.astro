---
// Komponent Paska Nawigacji
---

<header class="bg-zinc-950/70 backdrop-blur-md sticky top-0 z-50">
  <nav class="container mx-auto px-4 h-20 flex items-center justify-between">
    <!-- Logo z responsywnym rozmiarem -->
    <a href="/" class="block" aria-label="Strona główna">
      <img
        src="/logo.png"
        alt="Logo Firmy"
        class="h-10 md:h-12 lg:h-16 w-auto transition-all duration-300"
      />
    </a>

    <!-- Menu Desktop -->
    <div class="hidden md:flex space-x-8 items-center">
      <a
        href="#o-mnie"
        class="relative text-white/80 hover:text-amber-400 transition-colors after:content-[''] after:absolute after:left-0 after:bottom-[-4px] after:h-[2px] after:w-0 after:bg-amber-400 after:transition-all after:duration-300 hover:after:w-full"
      >
        O mnie
      </a>
      <a
        href="#projekty"
        class="relative text-white/80 hover:text-amber-400 transition-colors after:content-[''] after:absolute after:left-0 after:bottom-[-4px] after:h-[2px] after:w-0 after:bg-amber-400 after:transition-all after:duration-300 hover:after:w-full"
      >
        Projekty
      </a>
      <a
        href="#kontakt"
        class="bg-amber-400 hover:bg-amber-500 text-zinc-900 font-bold py-2 px-5 rounded-md transition-colors"
      >
        Kontakt
      </a>
    </div>

    <!-- Przycisk Menu Mobilnego -->
    <button id="menu-btn" class="md:hidden z-50">
      <svg
        id="menu-icon-open"
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 text-white"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16m-7 6h7"></path>
      </svg>
      <svg
        id="menu-icon-close"
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 text-white hidden"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>

    <!-- Menu Mobilne (zmieniona logika widoczności) -->
    <div
      id="mobile-menu"
      class="md:hidden absolute top-0 left-0 w-full h-screen bg-zinc-950 flex flex-col items-center justify-center space-y-8 text-2xl opacity-0 pointer-events-none transition-opacity duration-300"
    >
      <a
        href="#o-mnie"
        class="mobile-link text-white/80 hover:text-amber-400 transition-colors"
        >O mnie</a
      >
      <a
        href="#projekty"
        class="mobile-link text-white/80 hover:text-amber-400 transition-colors"
        >Projekty</a
      >
      <a
        href="#kontakt"
        class="bg-amber-400 hover:bg-amber-500 text-zinc-900 font-bold py-3 px-6 rounded-md transition-colors"
        >Kontakt</a
      >
    </div>
  </nav>
</header>

<script>
  const menuBtn = document.getElementById("menu-btn") as HTMLButtonElement;
  const mobileMenu = document.getElementById("mobile-menu") as HTMLDivElement;
  const menuIconOpen = document.getElementById("menu-icon-open");
  const menuIconClose = document.getElementById("menu-icon-close");
  const mobileLinks = document.querySelectorAll(".mobile-link");

  if (menuBtn && mobileMenu && menuIconOpen && menuIconClose) {
    const toggleMenu = () => {
      // Zamiast 'hidden', przełączamy klasy 'opacity' i 'pointer-events'
      mobileMenu.classList.toggle("opacity-0");
      mobileMenu.classList.toggle("opacity-100");
      mobileMenu.classList.toggle("pointer-events-none");
      mobileMenu.classList.toggle("pointer-events-auto");

      menuIconOpen.classList.toggle("hidden");
      menuIconClose.classList.toggle("hidden");

      document.body.classList.toggle("overflow-hidden");
    };

    menuBtn.addEventListener("click", toggleMenu);

    mobileLinks.forEach((link) => {
      link.addEventListener("click", () => {
        // Sprawdzamy, czy menu jest otwarte, patrząc na klasę opacity
        if (mobileMenu.classList.contains("opacity-100")) {
          toggleMenu();
        }
      });
    });
  }
</script>
