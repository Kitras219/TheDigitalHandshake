---
// Komponent Paska Nawigacji
---

<header
  id="main-header"
  class="bg-zinc-950/70 backdrop-blur-md sticky top-0 z-50 transition-all duration-300"
>
  <nav class="container mx-auto px-4 h-20 flex items-center justify-between">
    <a href="/" class="block" aria-label="Strona główna">
      <img
        src="/logo.png"
        alt="Logo Firmy"
        class="h-10 md:h-12 lg:h-16 w-auto transition-all duration-300"
      />
    </a>

    <!-- Menu Desktop -->
    <div class="hidden md:flex space-x-8 items-center">
      <a
        href="/#o-mnie"
        class="relative text-white/80 hover:text-amber-400 transition-colors after:content-[''] after:absolute after:left-0 after:bottom-[-4px] after:h-[2px] after:w-0 after:bg-amber-400 after:transition-all after:duration-300 hover:after:w-full"
      >
        O mnie
      </a>
      <a
        href="/#projekty"
        class="relative text-white/80 hover:text-amber-400 transition-colors after:content-[''] after:absolute after:left-0 after:bottom-[-4px] after:h-[2px] after:w-0 after:bg-amber-400 after:transition-all after:duration-300 hover:after:w-full"
      >
        Projekty
      </a>
      <a
        href="/hobby"
        class="relative text-white/80 hover:text-amber-400 transition-colors after:content-[''] after:absolute after:left-0 after:bottom-[-4px] after:h-[2px] after:w-0 after:bg-amber-400 after:transition-all after:duration-300 hover:after:w-full"
      >
        Hobby
      </a>

      <!-- NOWE ROZWIJANE MENU "KARIERA" z logiką group-hover -->
      <div class="relative group">
        <button
          class="flex items-center relative text-white/80 group-hover:text-amber-400 transition-colors"
        >
          Kariera
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-4 w-4 ml-1 transition-transform group-hover:rotate-180"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <path
              fill-rule="evenodd"
              d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
              clip-rule="evenodd"></path>
          </svg>
        </button>
        <div
          class="absolute top-full left-1/2 -translate-x-1/2 mt-2 w-48 bg-zinc-800 rounded-md shadow-lg py-1 opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto transition-all duration-300"
        >
          <a
            href="/career/experience"
            class="block px-4 py-2 text-sm text-white/80 hover:bg-amber-400/10 hover:text-amber-400"
            >Doświadczenie</a
          >
          <a
            href="/career/courses"
            class="block px-4 py-2 text-sm text-white/80 hover:bg-amber-400/10 hover:text-amber-400"
            >Kursy</a
          >
        </div>
      </div>
      <a
        href="/#kontakt"
        class="bg-amber-400 hover:bg-amber-500 text-zinc-900 font-bold py-2 px-5 rounded-md transition-colors"
      >
        Kontakt
      </a>
    </div>

    <!-- Przycisk Menu Mobilnego -->
    <button id="menu-btn" class="md:hidden z-50">
      <svg
        id="menu-icon-open"
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 text-white"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        ><path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16m-7 6h7"></path></svg
      >
      <svg
        id="menu-icon-close"
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 text-white hidden"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        ><path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"></path></svg
      >
    </button>

    <!-- Menu Mobilne -->
    <div
      id="mobile-menu"
      class="md:hidden absolute top-0 left-0 w-full h-screen bg-zinc-950 flex flex-col items-center justify-center space-y-8 text-2xl opacity-0 pointer-events-none transition-opacity duration-300"
    >
      <a
        href="/#o-mnie"
        class="mobile-link text-white/80 hover:text-amber-400 transition-colors"
        >O mnie</a
      >
      <a
        href="/#projekty"
        class="mobile-link text-white/80 hover:text-amber-400 transition-colors"
        >Projekty</a
      >
      <a
        href="/hobby"
        class="mobile-link text-white/80 hover:text-amber-400 transition-colors"
        >Hobby</a
      >
      <a
        href="/career/experience"
        class="mobile-link text-white/80 hover:text-amber-400 transition-colors"
        >Doświadczenie</a
      >
      <a
        href="/career/courses"
        class="mobile-link text-white/80 hover:text-amber-400 transition-colors"
        >Kursy</a
      >
      <a
        href="/#kontakt"
        class="bg-amber-400 hover:bg-amber-500 text-zinc-900 font-bold py-3 px-6 rounded-md transition-colors"
        >Kontakt</a
      >
    </div>
  </nav>
</header>

<script>
  // Skrypt dla menu mobilnego
  const menuBtn = document.getElementById("menu-btn") as HTMLButtonElement;
  const mobileMenu = document.getElementById("mobile-menu") as HTMLDivElement;
  const menuIconOpen = document.getElementById("menu-icon-open");
  const menuIconClose = document.getElementById("menu-icon-close");
  const mobileLinks = document.querySelectorAll(".mobile-link");

  if (menuBtn && mobileMenu && menuIconOpen && menuIconClose) {
    const toggleMenu = () => {
      mobileMenu.classList.toggle("opacity-0");
      mobileMenu.classList.toggle("opacity-100");
      mobileMenu.classList.toggle("pointer-events-none");
      mobileMenu.classList.toggle("pointer-events-auto");
      menuIconOpen.classList.toggle("hidden");
      menuIconClose.classList.toggle("hidden");
      document.body.classList.toggle("overflow-hidden");
    };
    menuBtn.addEventListener("click", toggleMenu);
    mobileLinks.forEach((link) => {
      link.addEventListener("click", () => {
        if (mobileMenu.classList.contains("opacity-100")) {
          toggleMenu();
        }
      });
    });
  }

  // NOWY SKRYPT: Animacja navbara przy przewijaniu
  const header = document.getElementById("main-header");
  if (header) {
    const handleScroll = () => {
      if (window.scrollY > 10) {
        header.classList.add("border-b", "border-white/10", "shadow-lg");
      } else {
        header.classList.remove("border-b", "border-white/10", "shadow-lg");
      }
    };
    window.addEventListener("scroll", handleScroll);
    // Uruchom raz na starcie na wypadek, gdyby strona załadowała się już przewinięta
    handleScroll();
  }
</script>
